import { Image, Head, Appear } from 'mdx-deck'
import { Invert } from 'mdx-deck/layouts'
import { RandomiTunesLogo } from './Itunes.js'

export { default as theme } from './theme'


<Head>
  <title>Hay que poner internet a dieta</title>
</Head>

---

according to most neuroscience studies, 80% of the population agrees that
their number one fear is **public speaking**.

number two is **death**.

```notes
Esto significa dos cosas:

1) que en un entierro la gente prefiere estar en el ata√∫d que dando el r√©quiem
2) que estamos venciendo a la muerte.
```

---

<Image src="images/death.png" size="contain" />

---

# Adri√† Fontcuberta
**@afontcu_**

Software Engineer at Holaluz (üëãüí°)

---

# Adri√† Fontcuberta
**@afontcu_**

Frontend Developer at Holaluz (üëãüí°)

---

# Adri√† Fontcuberta
**@afontcu_**

UI Engineer at Holaluz (üëãüí°)

---

# Adri√† Fontcuberta
**@afontcu_**

Webmaster at Holaluz (üëãüí°)

---

obesity **_wat_**?

```notes
Entendemos p√°ginas que son pr√°cticamente de texto, para leer algo, consultar 
informaci√≥n. No apps complejas.

Blogs, noticias, institucionales, de producto, corporativas...
```

---

Hold on, Adri... is it that bad?

```notes
Osea, ¬øhay para tanto? ¬øHay como para dar una charla en el t3chfest sobre el
tema?

Eeehhh... s√≠.
Igual se entiende mejor con algunos ejemplos.
```

---

export default Invert

<Image src="images/internet.org.png" size="contain" />

```notes
Lanzado en 2013.

"Affordable access to Internet services".

It has been criticized for violating net neutrality, and by handpicking 
internet services that are included.
```

---

> 2.76 MB

---

export default Invert

<Image src="images/ampproject.png" size="contain" />

```notes
2015.

Accelerated Mobile Pages.

Google competencia a Instant Pages de Facebook.

"AMP is Google's attempt to lock publishers into its ecosystem"
```

---

> 2.21 MB

```notes
Mejora increible comparado con la primera versi√≥n (v√≠deo infinito)
```

---

export default Invert

<Image src="images/tweet-amp.png" size="contain" />

```notes
https://twitter.com/cramforce/status/654047824653344772
```

---

export default Invert

<Image src="images/ios12.png" size="contain" />

---

> 32.63 MB

---

export default Invert

<Image src="images/radware.png" size="contain" />

```notes
https://blog.radware.com/applicationdelivery/wpo/2015/09/deja-vu-all-over-again/
```

---

> 9.97 MB

```notes
Pages keep getting bigger in their total size
```

---

> 80 resources

```notes
The number of resource requests is increasing dramatically
```

---

> 8.28 MB

```notes
Performance takes a hit due to page complexity and large, unoptimized images.
```

---

Who fed the Internet?

```notes
¬øPor qu√© hemos llegado aqu√≠? ¬øQui√©n o qui√©nes son responsables de esta situaci√≥n?
```

---

# #1

Devs and designers.

---

We **love** complexity.

```notes
Nos encaaaaanta hacernos la vida complicada. Diremos el contrario, diremos que 
ponemos al usuario en el centro, y que si hemos elegido el √∫ltimo framework de JS
es porque es la mejor forma de entregar valor y escalar nuestra aplicaci√≥n y que
blablabla.

Y oye, seguramente es verdad. Pero nos encanta estar a la moda. Cu√°ntas m√°s siglas
use un proyecto, m√°s mola.

¬øQui√©n de aqu√≠ cree que lo m√°s importante en un proyecto es entregar valor al 
usuario o cliente, y que las herramientas que usemos deben responder a eso?

Ahora, sin bajar las manos.
¬øQui√©n de aqu√≠ ha a√±adido una dependencia, un paquete, un framework, una 
animaci√≥n super chula... por el simple hecho que "molaba"?

Est√° eso mal? Qu√© va. Pero creo que podemos admitir que, en general, nos gusta
la complejidad. Y nos gusta porque es a lo que estamos acostumbrados a enfrentarnos.
Nos dedicamos a resolver problemas, y el rush de dopamina que libera resolver
algo es directamente proporcional a lo jodido que haya sido. ¬øSi o no?
```

---

Hype driven development.


```notes
De qu√© sirve un proyecto si al terminar no podemos a√±adir m√°s frameworks en
LinkedIn?

Tienes una aplicaci√≥n con 20 usuarios? Yo meter√≠a un cluster de kubernetes, y un
microservicio por usuario. A tomar por saco. Tus backends han preparado un endpoint
que devuelve una lista de productos? Pero... en REST? Sin GraphQL? Qu√© pasa, 
que vivimos en 2017?
```

---

<Image src="images/hero-image.png" size="cover" />

```notes
Ojo, que esto vale igualito para la gente de dise√±o. 
Este chiste no es m√≠o, es de Hayden Pickering, pero lo voy a contar igual.
¬øSab√©is por qu√© a esas im√°genes de cabecera se les llaman "Hero Images"?
Porque es lo que dice el usuario cuando entra a tu web desde su m√≥vil.
"Joder, me acabas de hacer descargar una imagen in√∫til de 500kbs desde el m√≥vil.
Eres mi puto heroe".
```

---

**Complexity** is good for:

1) Making people believe<br />they can't do your job.

---

**Simplicity** is good for:


1) Everything else.


---

Fake simplicity.


```notes
luego est√°n esas webs que "parecen" simples y sencillas, pero que esconden
toneladas de complejidad. (Un post de medium).
```

---

<Image src="images/medium.png" size="contain" />

---

> 3.01 MB

---

<Image src="images/google-domains.png" size="contain" />

---

> 11.78 MB

```notes
Un JS de 5MB y otro de 3.
```

---

Killing fire with **fire**.

---

Code splitting.

Synamic loading. Lazy loading.

Assets minification.

Compression algorithms.

```notes
Y c√≥mo somos muy de solucionar tecnolog√≠a con tecnolog√≠a, ahora lo que est√° de moda
es centrarse en la web performance optimization. Oye, que a m√≠ me encanta, lo digo
en serio. Es de las cosas que me gustan m√°s. Pero no por eso voy a dejar de pensar
que a lo mejor, en lugar de cargar din√°micamente una imagen que mi pipeline de 
webpack ha optimizado con un loader especial que he sacado de npm y solamente 
tarde 2 d√≠as en configurar, a lo mejor, solamente a lo mejor, esa mierda de imagen, 
que es una hero image de esas que dec√≠amos antes, no hace falta ni que est√©.
```

---

<Image src="images/hummer.jpg" size="cover" />

```notes
Creo que desde fuera nos ver√≠an como un grupo de pijos con 4x4 discutiendo
todo tipo de trucos para gastar menos gasolina.
"Tienes que deshinchar un poco la rueda delantera derecha". "Lo mejor es
pintar el techo de color blanco, as√≠, el aire se desliza mejor y el coche es 
m√°s aerodin√°mico".

Todo eso es s√∫per interesante y nos da de nuevo problemas a resolver, que es lo
que nos mola, pero esconde una realidad m√°s profunda.
```

---

<Image src="images/bike.jpg" size="cover" />

```notes
Si tienes que ir a por el pan, coge una pu√±etera bicicleta.
```

---

# #2

Product Owners

...and other _stakeholders_

```notes
la gente "responsable" del proyecto tambi√©n tiene su parte de culpa.

We face pressure to make these sites bloated. 

vamos a hablar de ello m√°s adelante, pero al final son las personas encargadas
de definir las prioridades en el proyecto. Y pocas veces esa prioridad significa
eliminar funcionalidades, reducir tiempos de carga, mejorar la accesibilidad.
```

---

Death by **features**.

```notes
feature creep.
```

---

# #3

Ads and trackers.

```notes
No todo es culpa nuestra. Aqu√≠ seguro mucha gente se esfuerza en crear webs y
aplicaciones optimizadas. Nos preocupamos por el usuario, casi siempre.

Pero no somos los √∫nicos con algo que decir. Alguien va a querer ganar dinero
con eso que hemos hecho, as√≠ que hay que a√±adir anuncios. Adem√°s, en dise√±o
van a querer saber como van las nuevas landing pages, as√≠ que habr√° que a√±adir
google analytics y hotjar y optimizely. Y los de marketing van a querer meter
esos botones de compartir en Facebook que, sinceramente, creo que ya nadie usa.
```

---

again. Is it that bad?

```notes
¬øHay para tanto o es porque soy un izquierdoso anticorporaciones?
```

---

(funny before/after gif)

---

export default Invert

<Image src="images/atlantic.png" size="contain" />

```notes
https://www.theatlantic.com/technology/archive/2015/04/who-will-track-the-internet-trackers/390681/
```

---

Before:

> 7.15 MB

> 383 requests

---

After:

> 850 KB

> 25 requests

---

export default Invert

```
https://ping.chartbeat.net
https://srv-2019-03-01-19.pixel.parsely.com
https://pixel.keywee.co
https://edge.simplereach.com
https://aax-eu.amazon-adsystem.com
https://pagead2.googlesyndication.com
https://googleads.g.doubleclick.net
https://image6.pubmatic.com
https://a.tribalfusion.com
https://rp.gwallet.com
https://pm.w55c.net
https://cookie.brealtime.com
https://ml314.com
https://theatlantic.blueconic.net
https://pixel.quantserve.com
https://token.rubiconproject.com
https://match.adsrvr.org
https://ps.eyeota.net
https://beacon.krxd.net
```

---

<Image src="images/elpais.png" size="contain" />

```notes
https://elpais.com/tecnologia/2018/11/02/actualidad/1541151337_859641.html
```

---

Before:

> 10,30 MB

> 302 requests

---

After: 

> 4,00 MB

> 68 requests

---

<Image src="images/the-verge.png" size="contain" />

```notes
https://www.theverge.com/2018/12/5/18127230/facebook-data-documents-parliament-deals-zuckerberg
```

---

Before:

> 6.46 MB

> 281 requests

---

After:

> 1.36 MB

> 26 requests

---

export default Invert

<Image src="images/usa-today.jpg" size="contain" />


```notes
https://twitter.com/fr3ino/status/1000166112615714816

Load time of more than 45 seconds to 3 seconds.
From 124 (!) JS files to 0.
From a total of more than 500 requests to 34.
```

---

Internet = Google + Amazon

---

<Image src="images/gizmodo.png" size="contain" />


```notes
Google:  Lyft, Uber, YELP!, Spotify, Airbnb (fotos). Dropbox login.
Internet lento hasta timeout de servicios (Ads, fonts, analytics).
100k peticiones en una semana.

Amazon: block 23M IPSs. Runkeeper, Yelp, NETFLIX i HBO Go!
300k peticiones en una semana.

Internet es menos distribuido de lo que parece.
```

---

> 19.76 MB

> 116 requests

---

## #4

Technology itself

---

export default Invert

<Image src="images/los-angeles.png" size="100" />


```notes
Esta foto, que parece un atasco de la hostia en Los Angeles, en realidad es una imagen del cable de ADSL en tu casa cuando entras en la landing page del iPad.

Demanda Inducida, Paradoja de Braess:
Tras aumentar el suministro de un bien, se consume m√°s.

M√°s margen para a√±adir visual fillers. Videos en autoplay.
```

---

Jevons paradox.

```notes
A medida que el perfeccionamiento tecnol√≥gico aumenta la eficiencia con la que se usa un recurso, es m√°s probable un aumento del consumo de dicho recurso que una disminuci√≥n.
```

---

**Us** (people making the web).

**Ads and trackers** (people making money on it).

**Technology** (the web itself).

---

What's next? Are we doomed?

---

We need to **improve our perspective**.

```notes
Primero de todo, hay que entender que "internet" no es nuestro c√≠rculo cercano
ni nuestra c√°mara de eco en Twitter. Usas un Mac casi nuevo, iPhone, y te 
conectas por ADSL de 300mb? Entonces no eres el usuario medio de internet. Y
me juego algo que tampoco eres el usuario medio de tu web.
```

---

I don't care about bloat because it's inefficient.

I care about it because it **makes the web inaccessible**.

```notes
La web es un medio accesible e inclusivo por defecto. Somos la gente que 
trabajamos en ella que hacemos todo lo posible para que sea al rev√©s.
```

---

We should get our **priorities straight**.

```notes
Revisar prioridades: accessibility first. No es un "nice to have". Requerimiento no funcional.

Accesibilidad tambi√©n es peso. No solo contraste, tama√±o fuentes...
```

---

export default Invert

<Image src="images/refactoring-ui.jpg" size="contain" />

```notes
Adam Wathan (creador Tailwind) & Steve Schoger.
```

---

export default Invert

<Image src="images/refactoring-fail.png" size="contain" />

```notes
Falsa dicotom√≠a? No: posici√≥n privilegiada

Detalles, perfecci√≥n est√° POR DEBAJO de resolver el pu√±etero problema a mi
usuario.
```

---

<Image src="images/refactoring-ui-web.png" size="contain" />

---

> 466 KB

```notes
...aunque 362KB con el modo de privacidad de Firefox
```

---

dead to **pixel perfect**.

```notes
Muerte al pixel perfect. Hay que hacer bien las cosas? S√≠, claro. Es siquiera 
posible dise√±ar algo "perfecto" para la cantidad de usuarios, necesidades, 
dispositivos, situaciones, condicionantes...? Nope.
```

---

You can't create an excellent experience for everyone.

You should aim for an **acceptable** experience for **as much people as possible**.

---

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.
```

---

<RandomiTunesLogo size={250} />

```notes
No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

<RandomiTunesLogo size={340} />

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.

No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

<RandomiTunesLogo size={400} />

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.

No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

<RandomiTunesLogo size={480} />

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.

No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

<RandomiTunesLogo size={560} />

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.

No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

<RandomiTunesLogo size={640} />

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.

No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

<RandomiTunesLogo size={800} />

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.

No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

<RandomiTunesLogo size={1300} />

```notes
El 99% de lo dicho aplica tambi√©n a otros entornos del software.

No voy a entrar en detalles, ni se√±alar con el dedo a nadie, pero hay un mont√≥n 
de aplicaciones que no paran de crecer y crecer, a√±adir funcionalidades que 
nadie les ha pedido, y que solamente empeoran la experiencia del usuario 
mientras, eso si, mantienen lleno el backlog del equipo de desarrollo.

Hay ejemplos, pero ya os digo, no quiero se√±alar a nadie.
```

---

Good intentions vs. **Pareto's Law**.

```notes
Nuestros recursos son limitados.  As√≠ que "algo es algo" no sirve de mucho.

An√©cdota FrontFest.

Saqu√© hasta foto:
```

---

export default Invert

<Image src="images/ave.jpg" size="contain" />

```notes
Imaginad ahora un equipo entero de ingenieros intentando que la velocidad real 
del bicho sea 300 en lugar de los 298 que marcaba en algun momento. Pa que 
el tren se pare un rato y luego vaya a 100. Pues eso, prioridades.

Y renfe. Y hablando de renfe:
```

---

export default Invert

<Image src="images/renfe.png" size="contain" />

---

> 2.29 MB

---
Pro tip: how to create a **performant website**.

```notes
Y ahora el momento que hab√©is estado esperando desde el principio: los truquillos
para que vuestras webs sean m√°s ligeras y carguen y funcionen m√°s r√°pido. All√°
va.
```

---

<ol>
<Appear>
<li>Make sure the <strong>most important elements</strong> of the page are downloaded and rendered
before anything else.</li>
<li>Done.</li>
</Appear>
</ol>

---

Do you remember **mobile first**?

Now it's time for **Progressive enhancement**.

```notes
Igual que Mobile First hizo que cambi√°semos como maquetar webs, pensando primero
en mobile e ir creciendo a partir de all√≠, en lugar de hacerlo al rev√©s.

Empezar a desarrollar una web suponiendo el peor de los casos (bueno, el m√°s 
limitante). C√≥mo se ve tu web sin JavaScript? C√≥mo se ve si el navegador no soporta
CSS Grid? C√≥mo se ve si las fuentes de Google Fonts no cargan? (De esa s√© la
respuesta: se ve un poco diferente, y carga m√°s r√°pido).
```

---

Takeaways

---

<ol>
  <Appear>
  <li>Our internet is <strong>fat and bloated</strong>.</li>
  <li>This makes our medium <strong>less accessible</strong>.</li>
  <li>We hold <strong>responsibility</strong> for it.</li>
  <li>We need to get our <strong>priorities straight</strong>.</li>
  </Appear>
</ol>

---

# Thanks! üëã

What questions do you have?

**@afontcu_** on Twitter.

**afontcu** everywhere else (Medium, GitHub, pornh... kidding).

---

## Resources

[Life without Google - Gizmodo](https://gizmodo.com/i-cut-google-out-of-my-life-it-screwed-up-everything-1830565500)

[Life without Amazon - Gizmodo]((https://gizmodo.com/i-tried-to-block-amazon-from-my-life-it-was-impossible-1830565336))

[The Ethics of Web Performance - Tim Kadlec](https://timkadlec.com/remembers/2019-01-09-the-ethics-of-performance/)

[Third Party Web](https://github.com/patrickhulce/third-party-web)


